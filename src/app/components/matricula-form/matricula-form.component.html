<!-- Mensagens de feedback -->
<div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
    <i class="bi bi-exclamation-triangle me-2"></i>
    {{ errorMessage }}
    <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"></button>
</div>

<div *ngIf="successMessage" class="alert alert-success alert-dismissible fade show mb-4" role="alert">
    <i class="bi bi-check-circle me-2"></i>
    {{ successMessage }}
    <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"></button>
</div>

<form #matriculaFormRef="ngForm" (ngSubmit)="salvar()">
    <div class="mb-4">
        <label class="form-label fw-medium text-dark">
            <i class="bi bi-person me-1"></i>
            Estudante:
        </label>
        <div class="input-group">
            <span class="input-group-text bg-light border-end-0">
                <i class="bi bi-person-circle text-muted"></i>
            </span>
            <div class="form-control border-start-0 ps-0 bg-light">
                {{ authService.getNomeUsuario() }}
            </div>
        </div>
    </div>

    <div class="mb-4">
        <label class="form-label fw-medium text-dark" for="curso">
            <i class="bi bi-book me-1"></i>
            Curso *
        </label>
        <div class="input-group">
            <span class="input-group-text bg-light border-end-0">
                <i class="bi bi-mortarboard text-muted"></i>
            </span>
            <select
                    [(ngModel)]="matriculaRequest.cursoId"
                    class="form-select border-start-0 ps-0"
                    id="curso"
                    name="cursoId"
                    required>
                <option value="0">Selecione um curso</option>
                <option *ngFor="let curso of cursos" [value]="curso.id">{{ curso.nome }}</option>
            </select>
        </div>
    </div>

    <div class="d-grid gap-3 mt-4">
        <button
                [disabled]="!matriculaFormRef.form.valid || isLoading"
                class="btn btn-primary btn-lg fw-medium py-2"
                type="submit">
            <span *ngIf="isLoading" aria-hidden="true" class="spinner-border spinner-border-sm me-2" role="status"></span>
            <i *ngIf="!isLoading" class="bi bi-person-plus me-2"></i>
            {{ isLoading ? 'Processando...' : 'Realizar Matr√≠cula' }}
        </button>
        <button
                (click)="resetarFormulario()"
                [disabled]="isLoading"
                class="btn btn-outline-secondary fw-medium"
                type="button">
            <i class="bi bi-x-circle me-2"></i>
            Limpar
        </button>
    </div>
</form>
